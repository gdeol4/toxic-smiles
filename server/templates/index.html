<!DOCTYPE html>
<html lang="en">

<head>
  <!--     Meta tags and mobile imports     -->
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <link rel="apple-touch-icon" sizes="76x76" href="./static/img/apple-icon.png">
  <link rel="icon" type="image/png" href="./static/img/favicon.png">


  <title> Toxic SMILES: Predicting Environmental Carcinogens Using Machine Learning — By Gurkamal Deol </title>

  <!--     Fonts and icons     -->
  <link href="https://fonts.googleapis.com/css?family=Poppins:200,300,400,600,700,800" rel="stylesheet" />
  <link href="https://use.fontawesome.com/releases/v5.0.6/css/all.css" rel="stylesheet">
  <script src="https://kit.fontawesome.com/1d82494212.js" crossorigin="anonymous"></script>
  <link rel="stylesheet" href="https://maxst.icons8.com/vue-static/landings/line-awesome/line-awesome/1.3.0/css/line-awesome.min.css">

  <!-- Nucleo Icons -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
  <link href="./static/css/nucleo-icons.css" rel="stylesheet" />

  <!-- CSS Files -->
  <link href="./static/css/style.css" rel="stylesheet" />

  <!-- Jinja -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

</head>

<body class="index-page">

  <!-- Navbar -->
  <nav class="navbar navbar-expand-md fixed-top navbar-transparent " color-on-scroll="100">
    <div class="container">
      <div class="navbar-translate">
        <button class="navbar-toggler navbar-toggler" type="button" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
          <span class="navbar-toggler-bar bar1"></span>
          <span class="navbar-toggler-bar bar2"></span>
          <span class="navbar-toggler-bar bar3"></span>
        </button>
      </div>
      <div class="collapse navbar-collapse justify-content-end" id="navigation">
        <div class="navbar-collapse-header">
          <div class="row">
            <div class="col-6 collapse-close text-right">
              <button type="button" class="navbar-toggler" data-toggle="collapse" data-target="#navigation" aria-controls="navigation-index" aria-expanded="false" aria-label="Toggle navigation">
                <i class="tim-icons icon-simple-remove"></i>
              </button>
            </div>
          </div>
        </div>
        <ul class="navbar-nav">
          <li class="nav-item active">
            <a class="nav-link scrollTo" href="#home"> Home <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link scrollTo" href="#examples">Examples <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link scrollTo" href="#science">How it works <span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link scrollTo" href="#draw"> Molecule Builder<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item active">
            <a class="nav-link" href="https://www.gurkamal.com/" target="_blank"> Personal site<span class="sr-only">(current)</span></a>
          </li>
          <li class="nav-item p-0">
            <a class="nav-link" rel="tooltip" data-placement="bottom" href="https://github.com/gdeol4" target="_blank">
              <i class="fab fa-github"></i>
              <p class="d-lg-none d-xl-none">Github</p>
            </a>
          </li>
          <li class="nav-item p-0">
            <a class="nav-link" rel="tooltip" data-placement="bottom" href="https://medium.com/@gurkamaldeol" target="_blank">
              <i class="fab fa-medium"></i>
              <p class="d-lg-none d-xl-none">Medium</p>
            </a>
          </li>
          <li class="nav-item p-0">
            <a class="nav-link" rel="tooltip" data-placement="bottom" href="https://www.linkedin.com/in/gurkamal-deol-508675174/" target="_blank">
              <i class="fab fa-linkedin"></i>
              <p class="d-lg-none d-xl-none">LinkedIn</p>
            </a>
          </li>
        </ul>
      </div>
    </div>
  </nav>

  <!-- End Navbar -->

  <div class="wrapper">

    <!-- Landing page form and prediction output -->

    <div class="page-header header-filter">

      <!-- Sliding square animation -->

      <div class="squares square1"></div>
      <div class="squares square2"></div>
      <div class="squares square3"></div>
      <div class="squares square4"></div>
      <div class="squares square5"></div>
      <div class="squares square6"></div>
      <div class="squares square7"></div>

      <!-- container for content -->

      <div class="container" id="home">
        <div class="content-center brand">
          <h1 class="h1-seo">Toxic SMILES•</h1>
          <h3>A model to identify P53 agonists usings SMILES strings.</h3>

          <br>

          <div class="row">
            <div class="col-lg-12">
              <p class="category">Enter a SMILES string to predict it's likelihood of being a p53 agonist.</p>
              <div class="form-group has-success">

                <!-- Data input form -->

                <form action="{{ url_for('predict')}}" method="post">
                  <input type="text" name="Example:   CC(=O)NC1=CC=C(C=C1)O" placeholder="Example:   CC(=O)NC1=CC=C(C=C1)O" required="required" class="form-control" />
                  <br>
                  <br>
                  <br>
                  <button type="submit" class="btn btn-success">Predict &nbsp;&nbsp;&nbsp;<i class="tim-icons icon-vector"></i></button>
                  <a style="color: #ffffff;" href="#draw" class="scrollTo"><button type="button" class="btn btn-default"> Create Molecule &nbsp;&nbsp;&nbsp; <i class="tim-icons icon-minimal-down"></i></button></a>
                </form>

                <br>
                <br>

                <!-- Prediction ouput -->

                <p style="color: #ffffff; font-size: 16px">
                  {{ prediction_text }}
                </p>
              </div>
            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- Begin examples section -->

    <div class="section" id="examples">
      <div class="container">
        <div class="row justify-content-left">
          <h1 class="h1-seo">Examples molecules to try out</h1>
        </div>
        <div class="row justify-content-center" style="padding-top: 3.2rem;">
          <div class="col-lg">
            <div class="row align-items-center">

              <!-- Create Table -->

              <table class="table">
                <thead>
                  <tr>
                    <th class="text-center">#</th>
                    <th class="text-center">Molecule</th>
                    <th class="text-center">SMILES String</th>
                    <th class="text-center">Interactive Image</th>
                    <th class="text-center">Description</th>
                    <th class="text-center">Carcinogenic</th>
                  </tr>
                </thead>
                <tbody>
                  <tr>
                    <td class="text-center">1</td>
                    <td class="text-center">Tylenol</td>
                    <td class="text-center">CC(=O)NC1=CC=C(C=C1)O</td>
                    <td class="text-right">
                      <div style="height: 150px; width: 150px; position: relative;" class='viewer_3Dmoljs' data-cid='1983' data-backgroundcolor='#171941' data-style='stick'></div>
                    </td>
                    <td class="text-center">a medication used to treat pain and fever</td>
                    <td class="text-center">
                      <button class="btn btn-danger btn-md btn-icon">
                        <i class="tim-icons icon-simple-remove"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-center">2</td>
                    <td class="text-center">Chloronitropropan</td>
                    <td class="text-center">CC(CCl)[N+](=O)[O-]</td>
                    <td class="text-right">
                      <div style="height: 150px; width: 150px; position: relative;" class='viewer_3Dmoljs' data-cid='17044' data-backgroundcolor='#171941' data-style='stick'></div>
                    </td>
                    <td class="text-center">residues can be found in food, typically from pesticides</td>
                    <td class="text-center">
                      <button class="btn btn-danger btn-md btn-icon">
                        <i class="tim-icons icon-simple-remove"></i>
                      </button>
                    </td>
                  </tr>
                  <tr>
                    <td class="text-center">3</td>
                    <td class="text-center">9-Bromoanthracene</td>
                    <td class="text-center">C1=CC=C2C(=C1)C=C3C=CC=CC3=C2Br</td>
                    <td class="text-right">
                      <div style="height: 150px; width: 150px; position: relative;" class='viewer_3Dmoljs' data-cid='74062' data-backgroundcolor='#171941' data-style='stick'></div>
                    </td>
                    <td class="text-center">halogenated polycyclic aromatic hydrocarbon found in urban air</td>
                    <td class="text-center">
                      <button class="btn btn-success btn-md btn-icon">
                        <i class="tim-icons icon-check-2"></i>
                      </button>
                    </td>
                  </tr>
                </tbody>
              </table>

              <!-- End Table -->

            </div>
          </div>
        </div>
      </div>
    </div>

    <!-- End examples section -->

    <!-- Begin Science section -->

    <div class="section section-tabs" id="science">
      <div class="container">
        <div class="row justify-content-left" style="padding-bottom: 3rem;">
          <h1 class="h1-seo">The science under the hood</h1>
        </div>
        <div class="row">
          <div class="col-md-10 ml-auto col-xl-6 mr-auto">
            <div class="title">
              <h3 class="mb-3">Molecular Fingerprinting</h3>
            </div>

            <!-- First card's Nav tabs -->

            <div class="card">
              <img src="/static/img/p53.jpg" alt="Raised image" class="img-fluid rounded shadow-lg" style="height: 303px; width: 550px;">
              <div class="card-header">
                <ul class="nav nav-tabs nav-tabs-primary" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#finger1" role="tablist">
                      <i class="fas fa-wave-square"></i> Algorithms
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#finger2" role="tablist">
                      <i class="fas fa-fingerprint"></i> Morgan
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#finger3" role="tablist">
                      <i class="fas fa-dna"></i> P53 protein
                    </a>
                  </li>
                </ul>
              </div>
              <div class="card-body">

                <!-- Tab panes -->

                <div class="tab-content tab-space">
                  <div class="tab-pane active" id="finger1">
                    <p>Fingerprinting is a way to represent molecular structure and properties as binary bit strings (0’s and 1's). This representation was initially developed and applied to searching databases for molecules with a specific
                      substructure — but it can also be applied to machine learning.
                      <br />
                      <br />A hash function is a random number generator and is applied to each feature of a molecule, such as the types of bonds and molecules present, which means that they act as seeds to the function.
                      <br />
                      <br /> Four types of fingerprints were generated: Morgan circular, Topological torsion, Daylight, Atom-pair</p>
                  </div>
                  <div class="tab-pane" id="finger2">
                    <p>After testing the four most popular fingerprints - The final model used the Morgan Circular fingerprints which are generated by the Morgan Algorithm.
                      <br />
                      <br />These fingerprints represent molecular structures and the presence of substructures by means of circular atom neighborhoods (bond radius).
                      Another important feature is their ability to determine the absence or presence of molecular functionality, which can further help discriminate when classifying molecules.
                    </p>
                  </div>
                  <div class="tab-pane" id="finger3">
                    <p>The p53 gene encodes a protein of the same name and this protein is known as a tumor-suppressor protein. The p53 protein is expressed in cells when they undergo DNA damage — which can
                      transform a normal cell into a cancerous one. To counteract the effects, p53 can cause growth arrest, repair DNA, or begin the process of cell death.
                      Therefore, when DNA damage occurs, there is a significant increase in p53 expression. This increase in protein expression is a good indicator of irregular cell health.
                      <br />
                      <br /> This model was built using the Tox21 dataset which was generated by testing cell lines that produce a florescent reporter gene product under the control of p53 cellular machinery.
                      By measuring levels of the reporter gene product against various compounds, researchers were able to determine whether a compound was an agonist (activator) of the p53 pathway or not.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>

          <!-- End first card's tab panes -->
          <!-- End first card -->

          <div class="col-md-10 ml-auto col-xl-6 mr-auto">
            <div class="title">
              <h3 class="mb-3"> Machine Learning</h3>
            </div>

            <!-- Second card's Nav tabs -->

            <div class="card">
              <img src="/static/img/ml.jpg" alt="Raised image" class="img-fluid rounded shadow-lg" style="width: 600px;">
              <div class="card-header">
                <ul class="nav nav-tabs nav-tabs-primary" role="tablist">
                  <li class="nav-item">
                    <a class="nav-link active" data-toggle="tab" href="#ml1" role="tablist">
                      <i class="fas fa-database"></i> Data
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#ml2" role="tablist">
                      <i class="fas fa-brain"></i> Modeling
                    </a>
                  </li>
                  <li class="nav-item">
                    <a class="nav-link" data-toggle="tab" href="#ml3" role="tablist">
                      <i class="fas fa-chart-line"></i> Accuracy
                    </a>
                  </li>
                </ul>
              </div>
              <div class="card-body">

                <!-- Tab panes -->

                <div class="tab-content tab-space">
                  <div class="tab-pane active" id="ml1">
                    <p>The Toxicology in the 21st Century program, or Tox21, is a unique collaboration between several federal agencies to develop new ways to rapidly test whether
                      substances adversely affect human health. Substances assayed in Tox21 include a diverse range of products such as: commercial chemicals, pesticides, food additives/contaminants, and medical compounds.
                      <br />
                      <br /> The Tox21 data is labeled with active (1) and inactive (0) states and the data loaded, the column names formatted, and mol files were generated (these files
                      are generally classified as data files that contain molecular information such as: atoms, bonds, coordinates, and connectivity information) for each molecule.</p>
                  </div>
                  <div class="tab-pane" id="ml2">
                    <p>This project was built using a logistic regression algorithm, which classifies a categorical response (outcome) variable between 1 and 0 based on its relationship with predictive features. In contrast, linear regression outputs
                      response variables that are continuous and can be any real number.
                      <br />
                      <br />Most importantly, linear regression does not output probabilities and instead fits the best hyperplane. Therefore logistic regression is the natural choice for a binary classification problem such as this.</p>
                  </div>
                  <div class="tab-pane" id="ml3">
                    <p>Three models were compared - KNN, logistic regression, and gradient boosting. When looking at validation accuracy, logistic regression consistently had the highest scores. Next, when evaluating AUC — arguably the most important
                      metric — gradient boosting produced the highest score but logistic regression had the highest average scores.
                      <br />
                      <br /> The highest individual and average f1-scores belong to logistic regression, suggesting that it produces models with the greatest balance between precision and robustness.</p>
                  </div>
                </div>
              </div>
            </div>
          </div>
        </div>

        <!-- End first card's tab panes -->
        <!-- End first card -->

        <div class="title">
          <h3 class="mb-3">The full write up can be found <a href="https://medium.com/swlh/predicting-carcinogens-with-logistic-regression-knn-gradient-boosting-and-molecular-e7952294a08c">here</a></h3>
        </div>
      </div>
    </div>

    <!-- End science section -->

    <!-- Begin Molecule Drawer section -->

    <div class="section" id="draw">
      <div class="container col-md-9">
        <div class="row justify-content-left">
          <h1 class="h1-seo">PubChem molecule builder</h1>
        </div>
        <p style="padding-bottom: 2rem;">
          The PubChem molecule building tool is built and maintained by the National Center for Biotechnology Information. It can be used to build chemical queries and output their SMILES strings — which in turn can be used as an input for
          prediction.
          This tool can help understand which functional groups may illicit carcinogenic and non-carcinogenic classifications.
        </p>
        <div class="container">
          <iframe style="width: 900px; height: 450px;" frameborder="0" src="https://pubchem.ncbi.nlm.nih.gov/edit3/index.html"></iframe>
        </div>
      </div>
    </div>

    <!-- End Molecule Drawer section -->

  </div>

  <!-- End of Index page -->

  <!--   Core JS Files   -->
  <script src="./static/js/core/jquery.min.js" type="text/javascript"></script>
  <script src="./static/js/core/popper.min.js" type="text/javascript"></script>
  <script src="./static/js/core/bootstrap.min.js" type="text/javascript"></script>
  <script src="./static/js/plugins/perfect-scrollbar.jquery.min.js"></script>

  <!--  Plugin for Switches, full documentation here: http://www.jque.re/plugins/version3/bootstrap.switch/ -->
  <script src="./static/js/plugins/bootstrap-switch.js"></script>

  <!--  Plugin for the Sliders, full documentation here: http://refreshless.com/nouislider/ -->
  <script src="./static/js/plugins/nouislider.min.js" type="text/javascript"></script>

  <!-- Chart JS -->
  <script src="./static/js/plugins/chartjs.min.js"></script>

  <!--  Plugin for the DatePicker, full documentation here: https://github.com/uxsolutions/bootstrap-datepicker -->
  <script src="./static/js/plugins/moment.min.js"></script>
  <script src="./static/js/plugins/bootstrap-datetimepicker.js" type="text/javascript"></script>

  <!-- Black Dashboard DEMO methods, don't include it in your project! -->
  <script src="./static/demo/demo.js"></script>

  <!-- parallax effects, scripts -->
  <script src="./static/js/blk-design-system.min.js?v=1.0.0" type="text/javascript"></script>

  <!-- chemical entitiy viewing -->
  <script src="http://3Dmol.csb.pitt.edu/build/3Dmol-min.js"></script>

  <!-- Custom Javascript -->

  <script>
    $(document).ready(function() {
      blackKit.initDatePicker();
      blackKit.initSliders();
    });

    function scrollToDownload() {

      if ($('.section-download').length != 0) {
        $("html, body").animate({
          scrollTop: $('.section-download').offset().top
        }, 1000);
      }
    }
  </script>

  <script>
    $('.scrollTo').click(function() {
      $('html, body').animate({
        scrollTop: $($(this).attr('href')).offset().top
      }, 500);
      return false;
    });
  </script>

</body>

</html>
